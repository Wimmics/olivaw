# Olivaw command lines

This python package provides command lines that are useful in the context of acimov methodology.

Here is an overview of which commands are available

In order to make these commands available in a project, check how to get started with the [olivaw main presentation](../README.md#getting-started)

Once done, there are options that are common between all these commands

All of these options are optional but can override the git information that are automatically retrieved

* `--MODE=...`: set to *ACTIONS* to make the tool think it is in an actions environment
* `--REPO-ROOT=...` set to override path to the repository root folder
* `--REPO_URI=`: set to override the repository URI
* `--BRANCH=...`: set to override the actual branch
* `--REF=...`: set to override the actuel ref
* `--DEV_USERNAME=...`: set to override the actual git user name

# olivaw init

There are commands for initializing a repository or a branch of an already initialized repository.

## olivaw init repo

```shell
olivaw init repo
```

This command is meant to initialize an acimov repository. This command should require:

* the preferred prefix for the ontology
* the namespace of the ontology
* a personnal access with the `gist` scope
* a minimal Levenshtein distance expected between the terms of the ontology

Finally this command should provide:

* a `parameters.json` file in the `.acimov/output/` folder
* a gist created with files containing accurate starting value
* badges in the README.md file pointing to the files of the fresh new gist

## olivaw init branch

```shell
olivaw init branch
```

This command is meant for the [init-branch actions](./actions.md#branch-initialization) but can also be used locally if needed.

The command updates the URLs for the files of the badges so that these badges are functional after the next [test actions](./actions.md#automatic-test-on-push)

# olivaw test

This project aims to provides automatic solutions for those tests.

There are several commands meant for testing the ontology fragments of a project.

With olivaw, [model tests](./tests.md#21-model-tests), [data tests](./tests.md#22-data-tests) and [query tests](./tests.md#23-query-tests) can be applied on an acimov project. Check the [test documentation](./tests.md) for all the details.

For all of these commands these two options are available on top of those mentioned in the beggining of this chapter:

* `--SKIP-PASS` to ignore in the report all the *Pass* outcomes
* `--TESTED-ONLY` to ignore in the report all the *NotTested* outcomes

These differents tests can have different errors. To see these errors in details, check the [test documentation](./tests.md#21-model-tests) and the [test resources file](../olivaw/constants/tests-resources.json)

These tests will output two files located in the `.acimov/output/` folder:

* One RDF file written in turtle format providing a report that is program-readable. See the [turtle format documentation](./tests.md#11-turtle-format) for more details.
* One markdown file that is the human-readable version of the previous RDF file. See the [markdown format documentation](./tests.md#12-markdown-format) for more details

## olivaw test model

```shell
olivaw test model
```

This command makes a model test on the project. See the [model tests documentation](./tests.md#21-model-tests) for more details.

## olivaw test data

```shell
olivaw test data
```

This command makes a data test on the project. See the [data tests documentation](./tests.md#22-data-tests) for more details.

## olivaw test query

```shell
olivaw test query
```

This command makes a query test on the project. See the [query tests documentation](./tests.md#23-query-tests) for more details.

## olivaw test precommit

```shell
olivaw test precommit
```

This command line is only a entry point for olivaw precommit hook.

It is only mean to work in a precommit hook trigger.

For more details about the pre-commt hook, check the related [pre-commit documentation](./pre-commit.md)

# olivaw flush

```shell
olivaw flush
```

Remove the tests inside `.acimov/output/` folder without removing the files generated by Github Actions.

# olivaw show

The commands of this chapter are meant to retrieve easily some information from the parameters for the project.

These commands were actually meant for Github Actions but they can also be used by users on demand.

## olivaw show gist

```shell
olivaw show gist
```

Output the gist ID that should contain the files for the information of all the badges

## olivaw show badges

```shell
olivaw show badges
```

Output the values of the badges of the actual branch
